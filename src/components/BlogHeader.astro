---
import { Icon } from 'astro-icon'
import ThemeToggle from '@components/theme-toggle'
import KBar from './kbar'
---

<nav class='navbar'>
  <span>Alex Streza</span>
  <div class='navbar-actions'>
    <KBar client:only />
    <ThemeToggle client:load />
  </div>
</nav>

<script is:inline>
  const theme = localStorage.getItem('theme')
  if (
    theme === 'dark' ||
    (!theme && matchMedia('(prefers-color-scheme: dark)').matches)
  ) {
    document.documentElement.classList.add('dark')
    localStorage.setItem('theme', 'dark')
  } else {
    document.documentElement.classList.remove('dark')
    localStorage.setItem('theme', 'light')
  }
</script>

<style>
  .navbar {
    @apply flex justify-between items-center p-5 md:py-10 md:px-[120px] w-full;
  }

  .navbar-actions {
    @apply flex gap-5 h-[32px];
  }
  span {
    @apply text-[28px] mb-0 font-serif font-black;
  }
</style>
